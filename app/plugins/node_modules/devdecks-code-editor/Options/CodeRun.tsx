import * as React from 'react';
import { remote } from 'electron';
import { Button, Intent } from '@blueprintjs/core';

interface CodeRunProps {
  pluginState: any;
  styles?: any;
}

const CodeRun = ({ pluginState, styles }: CodeRunProps) => {
  const { snippet } = pluginState;
  const webContents = remote.getCurrentWebContents();
  return (
    <Button
      text="Run Code"
      intent={ Intent.WARNING }
      style={styles}
      onClick={() => {
        const isDevToolsOpened = webContents.isDevToolsOpened();
        if (!isDevToolsOpened) webContents.toggleDevTools();
        eval(snippet);
      }} />
  );
};

export default CodeRun;
