import * as React from 'react';
import { EditableText as TextBoxInput } from '@blueprintjs/core';

interface TextBoxProps {
  disabled: boolean;
  pluginState: any;
  updateCurrentPlugin?: any;
}

const TextBox = ({ disabled, pluginState, updateCurrentPlugin }: TextBoxProps) => {
  const {
    fontColor,
    fontSize,
    fontStyle,
    fontWeight,
    textAlignment,
    textDecoration,
    value
  } = pluginState;

  return (
    <div
      id="devdecks-textbox-container"
      style={{
        color: fontColor,
        fontSize: `${fontSize/100}em`,
        fontWeight: fontWeight ? 'bold' : 'normal',
        fontStyle : fontStyle  ? 'italic' : 'normal',
        textAlign: textAlignment,
        textDecoration: textDecoration  ? 'underline' : 'none'
      }}>
      <TextBoxInput
        multiline
        disabled={ disabled }
        onChange={ (value: string) => updateCurrentPlugin({ value }) }
        value={ value } />
    </div>
  );
}

export default TextBox;
